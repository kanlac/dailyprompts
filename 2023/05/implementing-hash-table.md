# 如何实现一个哈希表？

### 理想的哈希函数

哈希函数将不同的键映射到不同的索引。

理想情况下，对一组键做哈希，得出来的哈希值都是不同的。这种情况下的时间复杂度是 O(1)。但这是不可能的。当我们谈论如何实现一个哈希算法，其实就是在谈论如何解决冲突（collision）的问题。

### 工程解法一

开放寻址法（open addressing scheme）是最简单粗暴的解法，就是如果当前这个位置已经被占了，那就往后找，直到有空位置为止。

要注意的是，线性探测（linear probing）的时候，如果到了末尾，还可能回到开头，直到找完一个周期为止。

开放寻址的问题是性能太差，当装载率超过 70% 的时候，性能就会急剧下降，当装载率达到 100%，整个哈希表就完全失效，时间复杂度为 O(n)，跟列表遍历没有区别了。

### 工程解法二

第二个介绍最常用的拉链法，这种办法是在每一个索引的位置做一个链表（或者叫「桶」）。可以看作是一个二维链表。它同样也是在装载率越高的时候性能越差。一般来说，当装载量达到一定量之后，哈希表就会扩容（增加桶的数量）。