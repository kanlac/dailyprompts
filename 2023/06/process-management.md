# Linux Process Management 进程管理

### Q
- 如何创建后台任务？
- ps aux 中各选项的含义？
- 如何查看进程的启动时间？
- top 中的 VIRT 和 RES 是什么？

### A

如果你想要让一个脚本在后台运行并且不向终端打印任何信息，你可以使用 `nohup` 命令并将输出重定向到 /dev/null。在 Unix 和 Linux 系统中，/dev/null 是一个特殊的文件，写入它的数据会被系统丢弃。

这是如何操作的步骤：

```bash
nohup your-command-or-script > /dev/null 2>&1 &
```

在这个命令中：

- `nohup` 是一个让你的脚本忽略挂起（hangup）信号并在后台运行的命令。
- `your-command-or-script` 是你想要运行的命令或脚本。
- `>` 是重定向操作符，它将命令的标准输出重定向到后面的文件中。在这里，我们重定向到 /dev/null。
- `2>&1` 是将标准错误（2）重定向到标准输出（1）的命令。因为我们已经将标准输出重定向到 /dev/null，所以标准错误也会被重定向到那里。
- `&` 是一个将命令放到后台运行的操作符。

这个命令将你的脚本或命令放到后台执行，并且所有的输出（标准输出和标准错误）都将被重定向到 /dev/null，所以它们不会在终端中显示。

“ps” stands for “process status”.

```bash
ps aux
# 包括：USER; PID; %CPU; %MEM; COMMAND 等
# ps 的结果按照 PID 排序
# ps 命令默认只会显示当前用户的、关联到了控制终端的进程，并且不会显示用户信息、CPU 使用率、内存使用率等
# a: 显示所有用户的进程
# u: 显示进程所属用户、CPU 使用率，内存使用率还有其他更丰富的信息
# x: 显示没有关联控制终端的进程，这些进程通常是系统守护进程或后台进程

# 查看进程 6 的启动时间
ps -p 6 -o lstart
```

VIRT, RES:
1. **VIRT**：虚拟内存使用量。这是进程使用的所有可访问内存空间，包括交换内存，物理内存，以及共享内存等。这也包括了该进程所有的库，即使这些库已经被其他进程加载到内存中了。
2. **RES**：驻留在物理内存中的大小。它指的是进程使用的实际物理内存（RAM），也被称为 Resident Set Size (RSS 驻留集大小)。这部分内存没有被交换到磁盘，一直在 RAM 中

它们都以 KiB (Kilobytes) 为单位。